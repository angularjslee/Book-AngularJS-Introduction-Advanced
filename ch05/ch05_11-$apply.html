<!doctype html>
<html ng-app="msgModule">
<head>
    <meta charset="UTF-8"> 
    <title>ch05_11</title>
    <script type="text/javascript" src="../angular-1.5.5/angular.js">
    </script>
</head>
<body>  
    <div ng-controller="MsgController">
        <div>
            <button ng-click="scheduleTask()">3秒后回显信息
            </button>
        </div><br/><br/>
        <div>
            {{message}}
        </div>
    </div>
    <script>
        angular.module('msgModule',[]).controller('MsgController', 
            function($scope) {
                $scope.scheduleTask = function() {
//                    setTimeout() 或者 setInterval()是 JavaScript 方法
                    setTimeout(function() {
//                        手动调用 $apply 触发 $digest()循环
                        $scope.$apply(function(){
                            $scope.message = '信息内容';
                            console.log('message='+$scope.message); 
                        });
                    }, 3000);

//                    AngularJS 内置 的两个服务 $timeout 和 $interval 就不用 手动调用 $apply 或者 $digest了
                }
            });
    </script>
</body>
</html>